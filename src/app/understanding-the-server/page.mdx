import {Col, Note, Warn} from "../../components/mdx";
export const metadata = {
    title: 'Understanding the server-cli',
    description: 'The server-cli is one of the main interfaces of RS2, understanding its functionalities and its internals allows you to achieve the most from it.',
}

# Understanding the server

The server is one of the 2 main interfaces to RS2, and by the mean, the most important for the remote control. {{ className: 'lead' }}

It is not by any mean _simple_, it is a composition of many functionalities and optimization merged together to achieve
the most from our and the public knowledge. {{ className: 'lead' }}

The server comes with one and only dependency, the PostgresSQL database driver. It can theoretically be installed on
both windows and *nix systems, but we recommend using a Linux distribution for the best performance and to enable all its
functionalities. {{ className: 'lead' }}

Move to the next section to learn more about the server's functionalities and how to interact with it. {{ className: 'lead' }}

---

## Functionalities

The server is a complex system that is composed of many functionalities and optimizations merged together to achieve the
most from our and the public knowledge. {{ className: 'lead' }}

This means that the server is not just a simple piece of software that you can install and run, but a complex system,
highly configurable. {{ className: 'lead' }}

<Row>
    <Col>

        ### Enabled features

        <Properties>
            <Property name="Operator's API">
                Secure login system to the API powered by JWT; credentials are secured at rest via Argon2ID.
            </Property>
            <Property name="Operator's API">
                Http(s) server to serve the operator's API, with advanced request logging, onfile or to the console.
            </Property>
            <Property name="Compilation">
                <Warn>
                    This feature is only available on Debian-based systems.
                </Warn>
                Command and control panel compilation, with full setup of dependencies and configurations.
            </Property>
        </Properties>

    </Col>
    <Col>

        ### Planned features

        <Properties>
            <Property name="Operator's API">
                <Note>
                    Partially implemented via the command line, check out the [`make operator`]() command.
                </Note>
                User management system, with possibility to add operators and change the current operator's password.
            </Property>
            <Property name="4xx">
                A 4xx status code indicates a client error — this means it's a _you_
                problem.
            </Property>
            <Property name="5xx">
                A 5xx status code indicates a server error — you won't be seeing these.
            </Property>
        </Properties>

    </Col>
    <Col>

        ### Ideas / Future features

        <Properties>
            <Property name="2xx">
                A 2xx status code indicates a successful response.
            </Property>
            <Property name="4xx">
                A 4xx status code indicates a client error — this means it's a _you_
                problem.
            </Property>
            <Property name="5xx">
                A 5xx status code indicates a server error — you won't be seeing these.
            </Property>
        </Properties>

    </Col>
</Row>
---

## Error types

<Row>
    <Col>

        Whenever a request is unsuccessful, the Protocol API will return an error response with an error type and
        message. You can use this information to understand better what has gone wrong and how to fix it. Most of the
        error messages are pretty helpful and actionable.

        Here is a list of the two error types supported by the Protocol API — use these to understand what you have done
        wrong.

        <Properties>
            <Property name="api_error">
                This means that we made an error, which is highly speculative and unlikely.
            </Property>
            <Property name="invalid_request">
                This means that you made an error, which is much more likely.
            </Property>
        </Properties>

    </Col>
    <Col>

        ```bash {{title: "Error response"}}
        {
            "type": "api_error",
            "message": "No way this is happening!?",
            "documentation_url": "https://protocol.chat/docs/errors/api_error"
        }
        ```

    </Col>
</Row>
